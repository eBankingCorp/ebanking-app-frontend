<!-- Header -->
 <header class="flex justify-between items-center mb-6">
        
<div class="flex items-center space-x-3">
<button class="px-4 py-2 bg-primary text-text-primary rounded-radius-md hover:bg-primary-hover transition-colors duration-200 shadow-shadow-sm">
    + Add User
</button>
<button class="px-4 py-2 bg-primary text-text-primary rounded-radius-md hover:bg-primary-hover transition-colors duration-200 shadow-shadow-sm">
    Export to CSV
</button>
</div></header>
<!-- Users Table --><div class="p-4 rounded-radius-md bg-background-secondary shadow-shadow-md">
<table class="w-full text-left">
<thead>
    <tr class="border-b border-border">
    <th class="py-2 text-sm font-medium text-text-secondary">Id</th>
    <th class="py-2 text-sm font-medium text-text-secondary">Email</th>
    <th class="py-2 text-sm font-medium text-text-secondary">Username</th>
    <th class="py-2 text-sm font-medium text-text-secondary">Created At</th>
    <th class="py-2 text-sm font-medium text-text-secondary">Phone</th>
    <th class="py-2 text-sm font-medium text-text-secondary"></th>
    <th class="py-2 text-sm font-medium text-text-secondary"></th>
    
    
    </tr>
</thead>
<tbody>
    <tr class="border-b border-border hover:bg-background-accent transition-colors duration-200" *ngFor="let user of renderedUsers">
    <td class="py-2 text-text-primary cursor-pointer">{{user.id}}</td>
    <td class="py-2 text-text-secondary cursor-pointer">{{user.email}}</td>
    <td class="py-2 text-text-secondary cursor-pointer">{{user.username}}</td>
    <td class="py-2 text-text-secondary cursor-pointer">{{user.createTime | date}}</td>
    
    <td class="py-2 text-text-secondary cursor-pointer">{{user.phone}}</td>
    
    <td class="py-2 flex space-x-2">
        <button class="px-2 py-1 bg-primary rounded-radius-sm hover:bg-primary-hover transition-colors duration-200 text-text-primary" (click)="openModal('john@example.com')">See Transactions</button>
        <button [routerLink]="`/agent/user-profile/${user.id}`" class="px-2 py-1 bg-warning rounded-radius-sm hover:bg-warning-light transition-colors duration-200 text-text-primary">Go to profile</button>
        <!-- <button class="px-2 py-1 bg-red-500 rounded-radius-sm hover:bg-red-400 transition-colors duration-200 text-text-primary">Delete</button> -->
    </td>
    </tr>
    
</tbody>
</table></div>
<div>
  

<div class="flex justify-between items-center mt-4">
    <div class="text-text-secondary">Showing {{startIndex + 1}}-{{endIndex}} of {{users.length}} users</div>
    <div class="flex space-x-2">
        <button (click)="onPreviousPage()" [disabled]="startIndex==0"  class="px-4 py-2 bg-primary text-text-primary rounded-radius-md hover:bg-primary-hover transition-colors duration-200 shadow-shadow-sm" >Previous</button>
        <button (click)="onNextPage()" [disabled]="endIndex>=users.length" class="px-4 py-2 bg-primary text-text-primary rounded-radius-md hover:bg-primary-hover transition-colors duration-200 shadow-shadow-sm">Next</button>
    </div>
</div>
<!-- Modal for Recent Transactions --><div class="fixed inset-0 bg-black bg-opacity-50 hidden" id="transactionModal" (click)="closeModal($event)">
<div class="bg-background-secondary p-6 rounded-radius-md max-w-md mx-auto mt-20" (click)="stopPropagation($event)">
  <!-- I SHOULD MAKE THIS DYNAMIC -->
<h3 class="text-lg font-bold text-text-primary mb-4">Recent Transactions</h3>
<ul class="space-y-2">
    <li class="text-text-primary">May 22, 2025 - $50.00 (Transfer)</li>
    <li class="text-text-primary">May 21, 2025 - $30.00 (Payment)</li>
    <li class="text-text-primary">May 20, 2025 - $25.00 (Deposit)</li>
</ul>
<div class="mt-4 flex justify-between">
    <a href="#" class="text-text-accent hover:underline">See All</a>
    <button class="px-4 py-2 bg-primary rounded-radius-sm hover:bg-primary-hover transition-colors duration-200 text-text-primary" (click)="closeModal()">Close</button>
</div>
</div></div>
    

<script>
  function openModal(email) {
    const modal = document.getElementById('transactionModal');
    modal.classList.remove('hidden');
    
  }

  function closeModal(event) {
    const modal = document.getElementById('transactionModal');
    if (event.target === modal) {
      modal.classList.add('hidden');
    }
  }

  function stopPropagation(event) {
    event.stopPropagation();
  }
</script>
